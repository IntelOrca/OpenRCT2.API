@page "/popular"
@inject OpenRCT2ApiService Api

<h2>Popular content</h2>
<hr />
@if (error == null && content == null)
{
    <LoadingAnimation />
}
else if (content != null)
{
    <ContentGrid Items="@content" />
}
else
{
    <Error Context="@error" />
}

@code {
    private object error;
    private ContentModel[] content;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            content = await Api.Client.Content.GetPopular();
        }
        catch (Exception ex)
        {
            error = ex;
        }
    }
}
